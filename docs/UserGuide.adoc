= Piconso - User Guide
:site-section: UserGuide
:toc:
:toc-title:
:toc-placement: preamble
:sectnums:
:imagesDir: images
:stylesDir: stylesheets
:xrefstyle: full
:experimental:
ifdef::env-github[]
:tip-caption: :bulb:
:note-caption: :information_source:
endif::[]
:repoURL: https://github.com/CS2103-AY1819S1-T09-3/main

By: `Team SE-EDU`      Since: `Jun 2016`      Licence: `MIT`

== Introduction

Piconso is for those who *prefer to use a desktop app for editing images*. More importantly, Piconso is *optimized for those who prefer to work with a Command Line Interface* (CLI) while still having the benefits of a Graphical User Interface (GUI). If you can type fast, Piconso can edit your images faster than Photoshop. Interested? Jump to the <<Quick Start>> to get started. Enjoy!

== Quick Start

.  Ensure you have Java version `9` or later installed in your Computer.
.  Download the latest `piconso.jar` link:https://github.com/CS2103-AY1819S1-T09-3/main/releases[here].
.  Copy the file to the folder you want to use as the home folder for your Piconso.
.  Double-click the file to start the app. The GUI should appear in a few seconds.

image::Ui.png[width:800]

[[Features]]
== Features

==== Command Format
* Items in square brackets are compulsory parameters to be added e.g `convert [TRANSFORMATION]` +
* Items in round brackets are optional parameters and can be omitted, e.g `canvas size (NEW_SIZE)` +
* For items surrounded by `< >`, they are compulsory parameters to be added that need to be typed with `< >` +
** e.g `g ls <ALBUM_NAME>` can be used as `g ls <Vacation>` +
* Flags such as `/a` are compulsory flags that need to be included when using that command
** e.g `g ul ls /a`

=== Viewing help : `help`

Format: `help`: viewing list of all commands

// tag::dir[]
=== Selecting images for editing: `select`

Format: `select [INDEX]`: selects an image for image-editing

Format: `select -all`: adds all images in current directory from working set [Coming in v2.0]

Examples:

* `select 1` +
* `select -all` [Coming in v2.0]

=== Retrieving the next batch of images: `next`

Format: `next`: Retrieves the next 10 images for editing

=== Retrieving the previous batch of images: `prev`

Format: `prev`: Retrieves the previous 10 images for editing
// end::dir[]

=== Applying a transformation to an image : `convert`

Format: `convert [operation] [arg1] [arg2] ...`: apply the specified processing to the selected image

Custom defined transformation by user (see create transformation, 3.6)

* Format: `create [Name_Of_operation] [op1|arg1|arg2|...] [op2|arg1|arg2|...]`

Available transformations

* `resize`: resize the image to the specified percentage of the original one

** Format: `convert resize [percentage]`
** Example: `convert resize 50%`

* `blur`: performs gaussian blur on the currently opened image, with the argument specified with radius and sigama

** Format: `convert blur [RadiusxSigama]`
** Example: `convert blur 0x8`

* `colorspace`: change the color space of the current image

** Format: `convert colorspace [color space]`
** Example: `convert colorspave GRAY`

* `contrast`: contrast of the image.

** Format: `convert contrast`
** Example: `convert contrast`

* `sigmoidal-contrast`: contrast the image with certain degree and percentage

** Format: `convert sigmoidal-contrast [DegreexPercentage]`
** Example: `convert sigmoidal-contrast 10x10%`

* `rotate`: rotates an image. DIRECTION [left, right]

** Format: `convert rotate [vlaue]`
** Example: `convert rotate 90`

=== Customizing transformation for imageProcessing : `create`

Format: `create [Name_Of_operation] [op1|arg1|arg2|...] [op2|arg1|arg2|...]`: create a customized operation for
transformation base on the operation specified

Example:

* `create blurAndRotate blur|0x8 rotate|90` +
To use the newly created command, use: +
`convert @blurAndRotate`

=== Saving images : `save`

Format: `save [IMAGE_NAME]`: saves the transformed image, supporting jpg, jpeg, png, tiff, gif

Example:

* `save modified.png`

[NOTE]
====
The image will be saved in the same directory as the original image.
====

// tag::undoredo[]
=== Undoing a transformation : `undo`

Format: `undo`: Step back to the previous image state (in current layer)

[NOTE]
====
Commands that can be undone: those commands that modify the image's transformation (anything done with `convert`).
====

Example:

* `convert blur 0x8` +
`convert contrast` +
`undo` (undoes the `convert contrast` command, image will be at `blur 0x8` state) +

=== Undoing all transformations : `undo-all`

Format: `undo-all`: Undoes all transformations (reverts image to original state)

Example:

* `convert blur 0x8` +
`convert contrast` +
`convert rotate 90` +
`undo-all` (undoes all 3 `convert` commands, image will be at original state) +

=== Redoing a transformation : `redo`

Format: `redo`: Step forward to the previously undone transformation

Example:

* `convert blur 0x8` +
`convert contrast` +
`undo` (undoes the `convert contrast` command, image will be at `blur 0x8` state) +
`redo` (reapplies the `convert contrast` command) +

=== Redoing all transformations : `redo-all`

Format: `redo-all`: Redoes all undone transformations

Example:

* `convert blur 0x8` +
`convert contrast` +
`convert rotate 90` +
`undo-all` (undoes all 3 `convert` commands, image will be at original state) +
`redo-all` (reapplies all 3 `convert` commands) +
// end::undoredo[]

=== Listing files in directory : `ls`

Format: `ls`: lists files in the current directory

=== Changing directories : `cd`

Format: `cd [DIRECTORY_NAME]`: changes directory

=== Canvas operations : `canvas`

==== Changing the size of the canvas: `canvas size`
Format: `canvas size (NEW_SIZE)`

[NOTE]
====
If the optional parameter NEW_SIZE is not provided, the current size will be displayed in the output instead.
====

Examples:

* `canvas size 800x600` - Sets the canvas to have a height of 800 pixels and a width of 600px.
* `canvas size` - Prints the current size.

==== Changing the background color of the canvas: `canvas bgcolor`
Format: `canvas bgcolor (NEW_COLOR)`

[NOTE]
====
If the optional parameter NEW_COLOUR is not provided, the current colour will be displayed in the output instead.
====

Examples:

* `canvas bgcolor none` - Sets the canvas to have a transparent background.
* `canvas bgcolor #0f0` - Sets the canvas to the hex colour #00ff00 image:00ff00.png[width:15].
* `canvas bgcolor #00ff00` - Sets the canvas to the hex colour #00ff00 image:00ff00.png[width:15].
* `canvas bgcolor rgba(0,255,0,0.7)` - Sets the canvas to the hex colour #00ff00 but with 70% opacity image:00ff00-70.png[width:15].
* `canvas bgcolor` - Prints the background colour.

==== Allowing the canvas to auto-resize: `canvas auto-resize [ON|OFF]`
Format : canvas auto-resize [ON|OFF]

Turns on/off the auto-resize for the canvas.
[NOTE]
====
New canvases default to having auto-resize off.
====


Examples:

* `canvas auto-resize on`: Allows the canvas to expand and prevent cropping.
* `canvas auto-resize off`: The height and width of the output canvas will remain as is.

==== Saving the output: `canvas save`
Format: `canvas size [FILE_NAME]`

Examples:

* `canvas save out.png` - Saves the current canvas as an image in the `PNG` format.
* `canvas save out.jpg` - Saves the current canvas as an image in the `JPG` format.

=== Layer operations : `layer`

==== Adding a new layer: `layer add [INDEX] (LAYER_NAME)`
[NOTE]
====
If the optional parameter LAYER_NAME is not provided, one will be automatically generated.
====
Selects the image at the provided index and adds it to the current canvas at the very top.

Examples:

* `layer add 4` - Adds the image at index 4 to the canvas.
* `layer add 1 background layer` - Adds the image at index 1 to the canvas as a layer named `backround layer`.

==== Removing a layer: `layer remove [INDEX]`
[WARNING]
====
This operation is not reversible! Be careful when removing layers!
====
[NOTE]
====
The last layer of a canvas is protected from removal.
====
Permanently removes a layer from canvas.

==== Selecting a layer to work on: `layer select [INDEX]`
Selects a layer to that all `convert` operations will work on.

==== Selecting a layer to work on: `layer swap [TO_INDEX] [FROM_INDEX]`
Changes the order of any two distinct layers.

Examples:

* `layer swap 1 2` : Changes the order of layer 1 and layer 2.

==== Locking a layer to prevent accidental edits: `layer lock [INDEX]`
Locks a layer. Locked layers are protected from all `convert`, `swap` and `delete` operations.

Examples:

* `layer lock 2` : Locks layer 2

==== Unlocking a layer: `layer unlock [INDEX]`
Unlocks a layer.

Examples:

* `layer unlock 3` : Unlocks layer 3.

==== Unlocking a layer: `layer position [POSITION]`
Sets the x and y co-ordinates of the current layer.
(0,0) is defined to be the top left of the screen.

Examples:

* `layer position 50x100` : Sets the layer's top right corner to be at position (50, 100).


// tag::google[]
=== Logging in to Google Photos: `login`

Format: `login`: allows you to log in to Google Photos

[NOTE]
====
*Requires a stable internet connection* +
Once the `login` command is launched, you *MUST* proceed with logging in from the redirected page, otherwise the application will freeze. You may use `logout` afterwards if you have changed your mind. +

A fix is upcoming in v2.0.
====

=== Google Photos related commands: `g`

[NOTE]
====
All commands will require a stable internet connection.
====

==== Traversing Google Photos: `g ls`

Format: `g ls`: lists all photos in your Google Photos, takes a longer amount of time depending on the number of images stored. +
Format: `g ls /a`: lists all albums in your Google Photos. +
Format: `g ls <ALBUM_NAME>`: lists all photos in specified album from Google Photos.

Examples:

* `g ls <Vacation>`

==== Downloading photos from Google Photos: `g dl`

[NOTE]
====
All photos will be downloaded to the currently opened local directory. +
Any files with duplicate naming existing in the targeted directory *WILL* be replaced
====

Format: `g dl /i<IMAGE_NAME>`: downloads specified image from Google Photos +
Format: `g dl /a<ALBUM_NAME>`: downloads all images from specified album in Google Photos, takes a longer amount of time depending on the number of images stored in the album. +
Format: `g dl /a<ALBUM_NAME> /i<IMAGE_NAME>`: downloads a specific photo from a specific album in Google Photos.

Examples:

* `g dl /i<Beach.png>` -> Downloads Beach.png +
* `g dl /a<Vacation>` -> Downloads all photos from Vacation album +
* `g dl /a<Vacation> /i<Beach.png>` -> Downloads Beach.png from Vacation album +

==== Uploading photos to Google Photos: `g ul`

[NOTE]
====
All uploaded photos will be automatically categorised into album 'Piconso Uploads'
====

Format: `g ul <IMAGE_NAME>`: uploads specified image in currently open local directory to Google Photos +
Format: `g ul all`: uploads all images in current directory to Google Photos, takes a longer amount of time depending on number of images to upload.

Examples:

* `g ul <Cat.png>` -> Uploads Cat.png +

=== Logging out of Google Photos: `logout`

Format: `logout`: logs you out of Google Photos

// tag::google[]

=== Exiting the application: `exit`

Format: `exit`: closes the application

== FAQ

*Q*: How do I transfer my data to another Computer? +
*A*: Install the app in the other computer and overwrite the empty data file it creates with the file that contains the data of your previous folder.

== Command Summary

* *Help* : `help` +
* *Select* : `select [INDEX]` +
e.g. `select 1` +
* *Next* : `next` +
* *Previous* : `prev` +
* *Convert* `convert [TRANSFORMATION]` +
e.g. `add -rotate left 180` +
* *Save* : `save [IMAGE_NAME]/[SET_NAME]` +
e.g. `save exampleImage.jpg` +
* *Undo* : `undo` +
* *Undo All* : `undo-all` +
* *Redo* : `redo` +
* *Redo All* : `redo-all` +
* *Ls* : `ls` +
* *Cd* : `cd [DIRECTORY_NAME]` +
* *Login* : `login` +
* *Google List* : `g ls OR g ls /a OR g ls <ALBUM_NAME>` +
* *Download* : `g dl /i<IMAGE_NAME> OR g dl /a<ALBUM_NAME> OR g dl /a<ALBUM_NAME> /i<IMAGE_NAME>` +
* *Upload* : `g ul <IMAGE_NAME> OR g ul all` +
* *Logout* : `logout` +
* *Exit* : `exit`
